(()=>{function e(e){const t=window.innerWidth<782,r=e.querySelector(".formo2022-recipes-query"),a=r.querySelectorAll(".formo2022-recipe").length-function(e){const t=e.querySelectorAll(".formo2022-recipe");let r=0;return t.forEach((e=>{"true"!==e.getAttribute("data-ingredient-hidden")&&"true"!==e.getAttribute("data-preptime-hidden")&&"true"!==e.getAttribute("data-meal-hidden")||r++})),r}(r);let c=Math.ceil(a/2);1===c&&(c=2);let d=t?a/4:a/8;d<1&&(d=1);const u=document.querySelector(".formo2022-no-recipes");!function(e,t){if(e.querySelector(".formo2022-recipes-next")&&e.querySelector(".formo2022-recipes-next").remove(),e.querySelector(".formo2022-recipes-prev")&&e.querySelector(".formo2022-recipes-prev").remove(),t<=1)return;const r=document.createElement("button"),a=document.createElement("button");r.classList.add("formo2022-recipes-next"),a.classList.add("formo2022-recipes-prev"),r.innerHTML=">",a.innerHTML="<",e.appendChild(a),a.style.opacity=.4,e.appendChild(r),r.addEventListener("click",(e=>{if(o)return;o=!0;const t=i(e.target),c=Math.round(t.position.x)-Math.round(t.containerPosition.x),d=t.containerWidth-Math.round(t.query.getBoundingClientRect().width);if(c<=d+10)return void(o=!1);const u=window.innerWidth<782?2:4,s=c-t.width*u;t.query.style.transform=`translateX(${s}px)`,s<=d+10?(r.style.opacity=.4,a.style.opacity=1):(r.style.opacity=1,a.style.opacity=1),setTimeout((()=>{o=!1}),n)})),a.addEventListener("click",(e=>{if(o)return;o=!0;const t=i(e.target),c=Math.round(t.position.x)-Math.round(t.containerPosition.x);if(Math.abs(Math.round(t.containerPosition.x)-Math.round(t.position.x))<=50)return void(o=!1);const d=window.innerWidth<782?2:4,u=c+Math.round(t.width)*d;t.query.style.transform=`translateX(${u}px)`,Math.floor(u)<=0&&Math.ceil(u)>=-10?(a.style.opacity=.4,r.style.opacity=1):(a.style.opacity=1,r.style.opacity=1),setTimeout((()=>{o=!1}),n)}))}(e,d),0===a?u.classList.add("shown"):1===d&&a>0&&a<6?(e.classList.add("gridflow-row"),u.classList.remove("shown")):(u.classList.remove("shown"),e.classList.remove("gridflow-row"))}let t=window.innerWidth,r=window.innerHeight;function i(e){const t=document.querySelector(".formo2022-recipes-query-outer"),r=t?.getBoundingClientRect().width||0,i=e.closest(".formo2022-recipes-categorised"),o=i.querySelectorAll('.formo2022-recipe:not([data-ingredient-hidden="true"])')||null;return{query:i.querySelector(".formo2022-recipes-query"),visibleRecipes:o,width:o?Math.round(o[0].getBoundingClientRect().width):0,position:o?o[0].getBoundingClientRect():0,containerPosition:t?t.getBoundingClientRect():0,containerWidth:Math.round(r)}}window.addEventListener("resize",(()=>{window.innerWidth!==t&&(i(document.querySelector(".formo2022-recipes-next")).query.style.transform="translateX(0px)"),t=window.innerWidth,r=window.innerHeight}));let o=!1;const n=300;function a(t){const r=t.currentTarget.closest(".formo2022-recipes-categorised"),i=r.querySelector(".formo2022-recipes-ingredients").querySelector('[data-filter-active="true"]'),o=i?i.getAttribute("data-filter"):"none",n=r.querySelector(".formo2022-recipes-query");u(n);const a=n.querySelectorAll(".formo2022-recipe"),c=t.currentTarget.getAttribute("data-filter");c===o?(i?.setAttribute("data-filter-active",!1),t.currentTarget.removeAttribute("data-filter-active"),a.forEach((e=>{"true"===e.getAttribute("data-ingredient-hidden")&&e.setAttribute("data-ingredient-hidden",!1)}))):(i?.setAttribute("data-filter-active",!1),t.currentTarget.setAttribute("data-filter-active",!0),a.forEach((e=>{const t=e.getAttribute("data-ingredient");"none"===c||t?.includes(c)?e.removeAttribute("data-ingredient-hidden"):e.setAttribute("data-ingredient-hidden",!0)}))),e(r)}function c(t){const r=t.currentTarget.closest(".formo2022-recipes-categorised"),i=r.querySelector(".formo2022-recipes-preptimes").querySelector('[data-filter-active="true"]'),o=i?i.getAttribute("data-filter"):"none",n=r.querySelector(".formo2022-recipes-query");u(n);const a=n.querySelectorAll(".formo2022-recipe"),c=t.currentTarget.getAttribute("data-filter");c===o?(i?.setAttribute("data-filter-active",!1),t.currentTarget.removeAttribute("data-filter-active"),a.forEach((e=>{"true"===e.getAttribute("data-preptime-hidden")&&e.setAttribute("data-preptime-hidden",!1)}))):(i?.setAttribute("data-filter-active",!1),t.currentTarget.setAttribute("data-filter-active",!0),a.forEach((e=>{const t=e.getAttribute("data-preptime");"none"===c||t?.includes(c)?e.removeAttribute("data-preptime-hidden"):e.setAttribute("data-preptime-hidden",!0)}))),e(r)}function d(t){const r=t.currentTarget.closest(".formo2022-recipes-categorised"),i=r.querySelector(".formo2022-recipes-meals").querySelector('[data-filter-active="true"]'),o=i?i.getAttribute("data-filter"):"none",n=r.querySelector(".formo2022-recipes-query");u(n);const a=n.querySelectorAll(".formo2022-recipe"),c=t.currentTarget.getAttribute("data-filter");c===o?(i?.setAttribute("data-filter-active",!1),t.currentTarget.removeAttribute("data-filter-active"),a.forEach((e=>{"true"===e.getAttribute("data-meal-hidden")&&e.setAttribute("data-meal-hidden",!1)}))):(i?.setAttribute("data-filter-active",!1),t.currentTarget.setAttribute("data-filter-active",!0),a.forEach((e=>{const t=e.getAttribute("data-meal");"none"===c||t?.includes(c)?e.removeAttribute("data-meal-hidden"):e.setAttribute("data-meal-hidden",!0)}))),e(r)}function u(e){e.style.transform="translateX(0px)"}document.querySelectorAll(".formo2022-recipes-ingredients > a").forEach((e=>{e.addEventListener("click",a)})),document.querySelectorAll(".formo2022-recipes-preptimes > a").forEach((e=>{e.addEventListener("click",c)})),document.querySelectorAll(".formo2022-recipes-meals > a").forEach((e=>{e.addEventListener("click",d)})),document.querySelectorAll(".formo2022-recipes-categorised").forEach((t=>{t.querySelector(".formo2022-recipes-query").querySelectorAll(".formo2022-recipe").forEach((e=>{e.setAttribute("data-ingredient-hidden",!1),e.setAttribute("data-preptime-hidden",!1),e.setAttribute("data-meal-hidden",!1)})),e(t)}))})();